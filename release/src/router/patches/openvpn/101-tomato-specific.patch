--- openvpn/src/openvpn/networking_sitnl.c
+++ openvpn/src/openvpn/networking_sitnl.c
@@ -25,6 +25,10 @@
 #endif
 
 #ifdef TARGET_LINUX
+/* be compatible with Tomato */
+typedef __signed__ long __s64;
+typedef unsigned long __u64;
+/* end Tomato */
 
 #include "syshead.h"
 
--- openvpn/src/openvpn/route.c
+++ openvpn/src/openvpn/route.c
@@ -46,6 +46,10 @@
 #include "memdbg.h"
 
 #if defined(TARGET_LINUX) || defined(TARGET_ANDROID)
+/* be compatible with Tomato */
+typedef __signed__ long __s64;
+typedef unsigned long __u64;
+/* end Tomato */
 #include <linux/rtnetlink.h>            /* RTM_GETROUTE etc. */
 #endif
 
--- openvpn/src/openvpn/tun.c
+++ openvpn/src/openvpn/tun.c
@@ -1993,6 +1993,14 @@
 
 #ifdef ENABLE_FEATURE_TUN_PERSIST
 
+/* be compatible with Tomato */
+#ifndef TUNSETOWNER
+#define TUNSETOWNER	_IOW('T', 204, int)
+#endif
+#ifndef TUNSETGROUP
+#define TUNSETGROUP	_IOW('T', 206, int)
+#endif
+
 void
 tuncfg(const char *dev, const char *dev_type, const char *dev_node,
        int persist_mode, const char *username, const char *groupname,
